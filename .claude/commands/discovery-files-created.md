---
name: discovery-files-created
description: Generate list of all files created during Discovery
model: claude-haiku-4-5-20250515
allowed-tools: Read, Write, Edit
hooks:
  PreToolUse:
    - matcher: "*"
      once: true
      hooks:
        - type: command
          command: "$CLAUDE_PROJECT_DIR/.claude/hooks/log-lifecycle.sh" command /discovery-files-created started '{"stage": "discovery"}'
  Stop:
    - hooks:
        # VALIDATION: Check FILES_CREATED.md was created
        - type: command
          command: >-
            uv run "$CLAUDE_PROJECT_DIR/.claude/hooks/validators/validate_files_exist.py"
            --directory "ClientAnalysis_$(cat _state/discovery_config.json 2>/dev/null | grep -o '"system_name"[[:space:]]*:[[:space:]]*"[^"]*"' | cut -d'"' -f4)/05-documentation"
            --requires "FILES_CREATED.md"
        # VALIDATION: Check FILES_CREATED has required sections
        - type: command
          command: >-
            uv run "$CLAUDE_PROJECT_DIR/.claude/hooks/validators/validate_file_contains.py"
            --directory "ClientAnalysis_$(cat _state/discovery_config.json 2>/dev/null | grep -o '"system_name"[[:space:]]*:[[:space:]]*"[^"]*"' | cut -d'"' -f4)/05-documentation"
            --pattern "FILES_CREATED.md"
            --contains "## Summary"
            --contains "## File Tree"
        # LOGGING: Record command completion
        - type: command
          command: "$CLAUDE_PROJECT_DIR/.claude/hooks/log-lifecycle.sh" command /discovery-files-created ended '{"stage": "discovery", "validated": true}'
---


# /discovery-files-created - Generate Files Created List

## FIRST ACTION (MANDATORY)

Before doing ANYTHING else, run these commands:

```bash
# 1. Update session context
bash "$CLAUDE_PROJECT_DIR/.claude/hooks/session-update.sh" --project "{SystemName}" --stage "discovery"

# 2. Log command start
bash .claude/hooks/log-lifecycle.sh command /discovery-files-created instruction_start '{"stage": "discovery", "method": "instruction-based"}'
```

## Rules Loading (On-Demand)

This command requires Discovery-specific rules. Load them now:

```bash
# Load Discovery rules (includes PDF handling, input processing, output structure)
/rules-discovery

# Load Traceability rules (includes ID formats, source linking)
/rules-traceability
```

## Arguments

None required - reads configuration from `_state/discovery_config.json`

## Prerequisites

- All previous phases complete
- All files generated

## Skills Used

- `.claude/skills/Discovery_DocSummary/Discovery_DocSummary.md`

## Execution Steps

1. **Load State**
   - Read `_state/discovery_config.json` for output_path
   - Inventory all files in `ClientAnalysis_<SystemName>/`
   - Read `_state/discovery_progress.json` for generation timestamps

2. **Generate Files Created Document**
   - Create `05-documentation/FILES_CREATED.md`
   - Include version metadata:
     ```yaml
     ---
     document_id: DISC-FILESCREATED-<SystemName>
     version: 1.0.0
     created_at: <YYYY-MM-DD>
     updated_at: <YYYY-MM-DD>
     generated_by: Discovery_DocSummary
     ---
     ```

3. **Content Structure**
   ```markdown
   # Files Created - <SystemName> Discovery

   ## Summary

   | Category | Files | Status |
   |----------|-------|--------|
   | Management | [N] | ✅ |
   | Analysis | [N] | ✅ |
   | Research | [N] | ✅ |
   | Strategy | [N] | ✅ |
   | Design Specs | [N] | ✅ |
   | Documentation | [N] | ✅ |
   | **Total** | **[N]** | **✅** |

   ## File Tree

   ```
   ClientAnalysis_<SystemName>/
   │
   ├── 00-management/
   │   └── PROGRESS_TRACKER.md
   │
   ├── 01-analysis/
   │   └── ANALYSIS_SUMMARY.md
   │
   ├── 02-research/
   │   ├── persona-<role-1>.md
   │   ├── persona-<role-2>.md
   │   ├── persona-<role-3>.md
   │   └── jtbd-jobs-to-be-done.md
   │
   ├── 03-strategy/
   │   ├── product-vision.md
   │   ├── product-strategy.md
   │   ├── product-roadmap.md
   │   └── kpis-and-goals.md
   │
   ├── 04-design-specs/
   │   ├── screen-definitions.md
   │   ├── navigation-structure.md
   │   ├── data-fields.md
   │   ├── sample-data.json
   │   ├── ui-components.md
   │   └── interaction-patterns.md
   │
   └── 05-documentation/
       ├── INDEX.md
       ├── README.md
       ├── DOCUMENTATION_SUMMARY.md
       ├── GETTING_STARTED.md
       ├── FILES_CREATED.md
       └── VALIDATION_REPORT.md
   ```

   ## File Details

   ### 00-management/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | PROGRESS_TRACKER.md | [size] | Discovery_Orchestrator | Discovery progress status |

   ### 01-analysis/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | ANALYSIS_SUMMARY.md | [size] | Discovery_Extract* | Consolidated analysis findings |

   ### 02-research/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | persona-<role-1>.md | [size] | Discovery_GeneratePersona | [Role 1] persona profile |
   | persona-<role-2>.md | [size] | Discovery_GeneratePersona | [Role 2] persona profile |
   | persona-<role-3>.md | [size] | Discovery_GeneratePersona | [Role 3] persona profile |
   | jtbd-jobs-to-be-done.md | [size] | Discovery_GenerateJTBD | Jobs to be done analysis |

   ### 03-strategy/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | product-vision.md | [size] | Discovery_GenerateVision | Product vision statement |
   | product-strategy.md | [size] | Discovery_GenerateStrategy | Strategic pillars |
   | product-roadmap.md | [size] | Discovery_GenerateRoadmap | Phased delivery plan |
   | kpis-and-goals.md | [size] | Discovery_GenerateKPIs | Success metrics |

   ### 04-design-specs/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | screen-definitions.md | [size] | Discovery_SpecScreens | Screen inventory and layouts |
   | navigation-structure.md | [size] | Discovery_SpecNavigation | Site map and user flows |
   | data-fields.md | [size] | Discovery_SpecDataModel | Data entity specifications |
   | sample-data.json | [size] | Discovery_SpecSampleData | Test data for prototyping |
   | ui-components.md | [size] | Discovery_SpecComponents | Component library specs |
   | interaction-patterns.md | [size] | Discovery_SpecInteractions | UX interaction patterns |

   ### 05-documentation/

   | File | Size | Generated By | Description |
   |------|------|--------------|-------------|
   | INDEX.md | [size] | Discovery_DocIndex | Documentation navigation |
   | README.md | [size] | Discovery_DocSummary | Project overview |
   | DOCUMENTATION_SUMMARY.md | [size] | Discovery_DocSummary | Executive summary |
   | GETTING_STARTED.md | [size] | Discovery_DocSummary | Onboarding guide |
   | FILES_CREATED.md | [size] | Discovery_DocSummary | This file |
   | VALIDATION_REPORT.md | [size] | Discovery_Validate | Quality validation |

   ## State & Traceability Files

   Located at project root:

   ### _state/
   | File | Purpose |
   |------|---------|
   | pipeline_config.json | Pipeline configuration |
   | discovery_config.json | Discovery session config |
   | discovery_progress.json | Checkpoint progress |
   | discovery_context.json | Cross-session memory |
   | discovery_materials_inventory.json | Input file inventory |
   | discovery_error_log.md | Skipped files log |

   ### traceability/
   | File | Purpose |
   |------|---------|
   | TRACEABILITY_MATRIX_MASTER.md | Human-readable trace |
   | trace_matrix.json | Machine-readable trace |
   | client_facts_registry.json | Client facts (CF-X.Y) |
   | pain_point_registry.json | Pain points (PP-X.Y) |
   | user_type_registry.json | User types (UT-X.Y) |
   | jtbd_registry.json | JTBDs (JTBD-X.Y) |
   | requirements_registry.json | Requirements (US-X.Y) |
   | screen_registry.json | Screens (S-X.Y) |

   ## Generation Timestamps

   | Phase | Completed |
   |-------|-----------|
   | Init | [timestamp] |
   | Analyze | [timestamp] |
   | Research | [timestamp] |
   | Strategy | [timestamp] |
   | Specs | [timestamp] |
   | Documentation | [timestamp] |
   | Validation | [timestamp] |
   ```

## Quality Checklist

- [ ] All files listed
- [ ] File sizes accurate
- [ ] Generation sources noted
- [ ] State files documented
- [ ] Traceability files documented

## Outputs

- `ClientAnalysis_<SystemName>/05-documentation/FILES_CREATED.md`

## Next Command

- Run `/discovery-validation` for validation report
- Or run `/discovery-validate` for full validation
