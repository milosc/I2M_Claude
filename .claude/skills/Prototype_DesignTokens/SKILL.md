---
name: generating-design-tokens
description: Use when you need to generate a comprehensive design token system (colors, typography, spacing) as CSS custom properties.
model: sonnet
allowed-tools: Bash, Edit, Read, Write
hooks:
  PreToolUse:
    - matcher: "*"
      once: true
      hooks:
        - type: command
          command: "$CLAUDE_PROJECT_DIR/.claude/hooks/log-lifecycle.sh" skill generating-design-tokens started '{"stage": "prototype"}'
  Stop:
    - hooks:
        - type: command
          command: "$CLAUDE_PROJECT_DIR/.claude/hooks/log-lifecycle.sh" skill generating-design-tokens ended '{"stage": "prototype"}'
---

# Spec Design Tokens

## FIRST ACTION (MANDATORY)

Before doing ANYTHING else, run this command:

```bash
bash .claude/hooks/log-lifecycle.sh skill generating-design-tokens instruction_start '{"stage": "prototype", "method": "instruction-based"}'
```

> **Implements**: [VERSION_CONTROL_STANDARD.md](../VERSION_CONTROL_STANDARD.md) for output file versioning
> **Supports**: Smart Obsolescence Handling for non-UI projects

## Metadata
- **Skill ID**: Prototype_DesignTokens
- **Version**: 3.0.0
- **Created**: 2024-12-13
- **Updated**: 2025-12-26
- **Author**: Milos Cigoj
- **Change History**:
  - v3.0.0 (2025-12-26): Added NOT_APPLICABLE handling for non-UI projects
  - v2.3.1 (2025-12-19): Added version control metadata per VERSION_CONTROL_STANDARD.md
  - v2.3.0 (2024-12-13): Initial skill version for Prototype Skills Framework v2.3

## Description
Generate design tokens for colors, typography, spacing, and layout. Creates the complete token system as CSS custom properties. Integrates theme-factory with 10 pre-set professional themes, or generates custom themes from project requirements.

> **Implements**: [VERSION_CONTROL_STANDARD.md](../VERSION_CONTROL_STANDARD.md) for output file versioning

Generate comprehensive design token system from design brief. Follows OUTPUT_STRUCTURE.md for deterministic folder structure.

> **THEME FACTORY INTEGRATION**: This skill offers 10 professional pre-set themes for quick styling, or generates custom themes from the design brief. Pre-set themes ensure professional, cohesive color palettes and font pairings.

## Output Structure (REQUIRED)

This skill MUST generate the following files in `00-foundation/`:

```
00-foundation/
â”œâ”€â”€ DESIGN_TOKENS.md                  # Token overview and usage guide
â”œâ”€â”€ colors.md                         # Color token documentation
â”œâ”€â”€ typography.md                     # Typography token documentation
â”œâ”€â”€ spacing-layout.md                 # Spacing and layout documentation
â””â”€â”€ ... (other foundation files)
```

---

## Applicability Check (Smart Obsolescence Handling)

**BEFORE generating design tokens**, check project classification:

```
1. Read _state/discovery_config.json (or _state/prototype_config.json)
2. Check project_classification.type
3. IF type IN [BACKEND_ONLY, DATABASE_ONLY, INTEGRATION, INFRASTRUCTURE]:
   â†’ Generate NOT_APPLICABLE placeholder (see below)
   â†’ SKIP full design token generation
4. IF type == FULL_STACK:
   â†’ Proceed with normal design token generation
```

### NOT_APPLICABLE Output Template

When project type does not require UI artifacts, generate this placeholder for each required file:

**00-foundation/DESIGN_TOKENS.md (N/A version):**
```markdown
# Design Tokens

---
status: NOT_APPLICABLE
artifact: design-tokens
project_type: [BACKEND_ONLY|DATABASE_ONLY|INTEGRATION|INFRASTRUCTURE]
classification_date: [ISO timestamp from config]
generated_date: [Current ISO timestamp]
---

## Reason

This artifact is not applicable for **[PROJECT_TYPE]** projects.

Design tokens (colors, typography, spacing) are only generated for projects with user interface components (FULL_STACK).

## Project Classification

- **Type**: [PROJECT_TYPE]
- **Confidence**: [HIGH|MEDIUM|LOW]
- **Classified**: [Date]

## What This Means

- No design token system will be generated for this project
- Downstream code generation will skip UI styling
- Focus remains on [API contracts|Data models|Integration specs|Infrastructure configs]

## Alternative Artifacts

For this project type, refer to:
- `data-model.md` - Data contract definitions
- `api-contracts.json` - API specifications
- Discovery outputs for business logic

---
*Generated by Prototype_DesignTokens v3.0.0*
*Smart Obsolescence Handling enabled*
```

**Also generate N/A placeholders for:** `colors.md`, `typography.md`, `spacing-layout.md`

---

## Procedure

### Step 0: Theme Selection (Optional - Recommended)

> **Theme Factory Integration**: Offer pre-set professional themes before custom generation.

```
PROMPT user:
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¨ THEME SELECTION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Would you like to apply a pre-set professional theme?

  Pre-set themes provide:
  â€¢ Cohesive, tested color palettes
  â€¢ Complementary font pairings
  â€¢ Distinct visual identity

  Available Themes:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1. Ocean Depths      - Professional, calming maritime      â”‚
  â”‚  2. Sunset Boulevard  - Warm, vibrant sunset colors         â”‚
  â”‚  3. Forest Canopy     - Natural, grounded earth tones       â”‚
  â”‚  4. Modern Minimalist - Clean, contemporary grayscale       â”‚
  â”‚  5. Golden Hour       - Rich, warm autumnal palette         â”‚
  â”‚  6. Arctic Frost      - Cool, crisp winter-inspired         â”‚
  â”‚  7. Desert Rose       - Soft, sophisticated dusty tones     â”‚
  â”‚  8. Tech Innovation   - Bold, modern tech aesthetic         â”‚
  â”‚  9. Botanical Garden  - Fresh, organic garden colors        â”‚
  â”‚ 10. Midnight Galaxy   - Dramatic, cosmic deep tones         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Options:
  1. "apply: [theme_name]" - Use pre-set theme
  2. "preview: [theme_name]" - See theme details
  3. "custom" - Generate custom theme from design brief
  4. "custom: [description]" - Generate theme from description
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  WAIT for user response

IF user selects "apply: [theme_name]":

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INVOKE THEME-FACTORY SKILL (Dynamic Skill Invocation)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  INVOKE_SKILL:
    skill: "theme-factory"
    inputs:
      action: "apply"
      theme_name: user_selected_theme
    on_success: STORE selected_theme
    on_failure: WARN "Theme skill not available, using embedded themes"

  IF selected_theme:
    LOG: "âœ… Theme applied via theme-factory skill: {selected_theme.name}"
    SKIP embedded theme loading

  ELSE:
    // Fallback: Use embedded theme definitions
    LOG: "Using embedded theme definitions..."
    LOAD theme from pre-set:

  THEMES = {
    "ocean_depths": {
      name: "Ocean Depths",
      colors: {
        primary: "#1e3a5f",        // Deep Navy
        secondary: "#3d7ea6",      // Ocean Blue
        accent: "#5fb3b3",         // Seafoam
        background: "#f5f9fc",     // Light Mist
        text: "#1e3a5f"            // Deep Navy
      },
      fonts: {
        display: "Playfair Display",
        body: "Lato"
      },
      best_for: "Finance, consulting, healthcare, corporate"
    },

    "sunset_boulevard": {
      name: "Sunset Boulevard",
      colors: {
        primary: "#ff6b35",        // Sunset Orange
        secondary: "#f7c59f",      // Warm Sand
        accent: "#ff9f1c",         // Golden Hour
        background: "#fffaf5",     // Cream
        text: "#2d3436"            // Charcoal
      },
      fonts: {
        display: "Poppins",
        body: "Open Sans"
      },
      best_for: "Creative, entertainment, hospitality, lifestyle"
    },

    "forest_canopy": {
      name: "Forest Canopy",
      colors: {
        primary: "#2d5a3d",        // Forest Green
        secondary: "#8fbc8f",      // Sage
        accent: "#c19a6b",         // Wood Brown
        background: "#f8faf5",     // Natural White
        text: "#2d3436"            // Charcoal
      },
      fonts: {
        display: "Merriweather",
        body: "Source Sans Pro"
      },
      best_for: "Environmental, wellness, organic brands, outdoors"
    },

    "modern_minimalist": {
      name: "Modern Minimalist",
      colors: {
        primary: "#2d2d2d",        // Near Black
        secondary: "#666666",      // Medium Gray
        accent: "#ff3366",         // Accent Pink
        background: "#ffffff",     // Pure White
        text: "#2d2d2d"            // Near Black
      },
      fonts: {
        display: "Space Grotesk",
        body: "DM Sans"
      },
      best_for: "Design agencies, tech, portfolio, luxury"
    },

    "tech_innovation": {
      name: "Tech Innovation",
      colors: {
        primary: "#0066ff",        // Electric Blue
        secondary: "#00ffff",      // Neon Cyan
        accent: "#7c3aed",         // Violet
        background: "#1e1e1e",     // Dark Gray
        text: "#ffffff"            // White
      },
      fonts: {
        display: "JetBrains Mono",
        body: "Inter"
      },
      best_for: "SaaS, developer tools, AI, fintech"
    },

    "golden_hour": {
      name: "Golden Hour",
      colors: {
        primary: "#d4a373",        // Warm Gold
        secondary: "#e9c46a",      // Honey
        accent: "#e76f51",         // Terracotta
        background: "#fefae0",     // Warm Cream
        text: "#3d405b"            // Slate
      },
      fonts: {
        display: "Cormorant Garamond",
        body: "Nunito"
      },
      best_for: "Fashion, beauty, home decor, food & beverage"
    },

    "arctic_frost": {
      name: "Arctic Frost",
      colors: {
        primary: "#4a90a4",        // Ice Blue
        secondary: "#a8d5e2",      // Frost
        accent: "#f9f871",         // Aurora Yellow
        background: "#f0f5f9",     // Snow White
        text: "#2c3e50"            // Steel Blue
      },
      fonts: {
        display: "Quicksand",
        body: "Rubik"
      },
      best_for: "Healthcare, science, clean tech, Nordic brands"
    },

    "desert_rose": {
      name: "Desert Rose",
      colors: {
        primary: "#c08497",        // Dusty Rose
        secondary: "#e8c4c4",      // Blush
        accent: "#7d5a5a",         // Mauve
        background: "#fdf6f6",     // Soft Pink
        text: "#4a4a4a"            // Warm Gray
      },
      fonts: {
        display: "Playfair Display",
        body: "Montserrat"
      },
      best_for: "Beauty, wedding, boutique, wellness"
    },

    "botanical_garden": {
      name: "Botanical Garden",
      colors: {
        primary: "#588157",        // Leaf Green
        secondary: "#a3b18a",      // Olive
        accent: "#dad7cd",         // Stone
        background: "#fefefe",     // Clean White
        text: "#344e41"            // Dark Green
      },
      fonts: {
        display: "Libre Baskerville",
        body: "Work Sans"
      },
      best_for: "Agriculture, plant shops, eco brands, natural products"
    },

    "midnight_galaxy": {
      name: "Midnight Galaxy",
      colors: {
        primary: "#2c003e",        // Deep Purple
        secondary: "#512b58",      // Plum
        accent: "#c76b98",         // Nebula Pink
        background: "#0d0d0d",     // Space Black
        text: "#e0e0e0"            // Silver
      },
      fonts: {
        display: "Orbitron",
        body: "Exo 2"
      },
      best_for: "Gaming, entertainment, music, nightlife"
    }
  }

  selected_theme = THEMES[theme_name]
  LOG: "Applying theme: {selected_theme.name}"
  STORE selected_theme for token generation

IF user selects "custom":
  selected_theme = null
  LOG: "Generating custom theme from design brief"

IF user selects "custom: [description]":
  GENERATE custom_theme from description:
    - Extract color mood from description
    - Select complementary fonts
    - Create cohesive palette

  LOG: "Generated custom theme: {custom_theme.name}"
  STORE custom_theme as selected_theme
```

### Step 1: Validate Inputs (REQUIRED)
```
READ 00-foundation/DESIGN_BRIEF.md â†’ color direction, typography direction
READ _state/requirements_registry.json â†’ A11Y requirements

IDENTIFY requirements this skill MUST address:
  - A11Y-XXX accessibility requirements (contrast, sizing)

IF DESIGN_BRIEF.md missing:
  BLOCK: "Run DesignBrief first"

IF selected_theme exists:
  LOG: "Using theme: {selected_theme.name}"
  colors_source = selected_theme.colors
  fonts_source = selected_theme.fonts
ELSE:
  colors_source = design_brief.color_direction
  fonts_source = design_brief.typography_direction
```

### Step 2: Generate Color Tokens
```
CREATE 00-foundation/colors.md:
  # Color Tokens
  
  ## Overview
  
  Color tokens define the complete color palette for {Product Name}.
  All colors are defined as CSS custom properties for consistency.
  
  ---
  
  ## Primitive Colors
  
  Base color scales that other tokens reference.
  
  ### Gray Scale
  | Token | Value | Preview |
  |-------|-------|---------|
  | --color-gray-50 | #f9fafb | ![](https://via.placeholder.com/20/f9fafb/f9fafb) |
  | --color-gray-100 | #f3f4f6 | ![](https://via.placeholder.com/20/f3f4f6/f3f4f6) |
  | --color-gray-200 | #e5e7eb | ![](https://via.placeholder.com/20/e5e7eb/e5e7eb) |
  | --color-gray-300 | #d1d5db | ![](https://via.placeholder.com/20/d1d5db/d1d5db) |
  | --color-gray-400 | #9ca3af | ![](https://via.placeholder.com/20/9ca3af/9ca3af) |
  | --color-gray-500 | #6b7280 | ![](https://via.placeholder.com/20/6b7280/6b7280) |
  | --color-gray-600 | #4b5563 | ![](https://via.placeholder.com/20/4b5563/4b5563) |
  | --color-gray-700 | #374151 | ![](https://via.placeholder.com/20/374151/374151) |
  | --color-gray-800 | #1f2937 | ![](https://via.placeholder.com/20/1f2937/1f2937) |
  | --color-gray-900 | #111827 | ![](https://via.placeholder.com/20/111827/111827) |
  
  ### Primary Scale (Blue)
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --color-primary-50 | #eff6ff | Backgrounds |
  | --color-primary-100 | #dbeafe | Hover backgrounds |
  | --color-primary-200 | #bfdbfe | Borders |
  | --color-primary-300 | #93c5fd | - |
  | --color-primary-400 | #60a5fa | - |
  | --color-primary-500 | #3b82f6 | Default |
  | --color-primary-600 | #2563eb | Hover |
  | --color-primary-700 | #1d4ed8 | Active |
  | --color-primary-800 | #1e40af | - |
  | --color-primary-900 | #1e3a8a | - |
  
  ### Secondary Scale (Teal)
  [Similar structure]
  
  ### Semantic Colors
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --color-success-50 | #f0fdf4 | Success background |
  | --color-success-500 | #22c55e | Success default |
  | --color-success-700 | #15803d | Success text |
  | --color-warning-50 | #fffbeb | Warning background |
  | --color-warning-500 | #f59e0b | Warning default |
  | --color-warning-700 | #b45309 | Warning text |
  | --color-error-50 | #fef2f2 | Error background |
  | --color-error-500 | #ef4444 | Error default |
  | --color-error-700 | #b91c1c | Error text |
  | --color-info-50 | #eff6ff | Info background |
  | --color-info-500 | #3b82f6 | Info default |
  | --color-info-700 | #1d4ed8 | Info text |
  
  ---
  
  ## Semantic Tokens
  
  Context-aware tokens that reference primitives.
  
  ### Text Colors
  | Token | Light Mode | Dark Mode | Use Case |
  |-------|------------|-----------|----------|
  | --text-primary | gray-900 | gray-50 | Headings, important text |
  | --text-secondary | gray-600 | gray-400 | Body text |
  | --text-tertiary | gray-500 | gray-500 | Helper text |
  | --text-disabled | gray-400 | gray-600 | Disabled state |
  | --text-inverse | white | gray-900 | On dark backgrounds |
  | --text-link | primary-600 | primary-400 | Links |
  | --text-link-hover | primary-700 | primary-300 | Link hover |
  
  ### Background Colors
  | Token | Light Mode | Dark Mode | Use Case |
  |-------|------------|-----------|----------|
  | --bg-primary | white | gray-900 | Main background |
  | --bg-secondary | gray-50 | gray-800 | Alternate sections |
  | --bg-tertiary | gray-100 | gray-700 | Cards, wells |
  | --bg-inverse | gray-900 | white | Inverse sections |
  | --bg-overlay | rgba(0,0,0,0.5) | rgba(0,0,0,0.7) | Modal overlays |
  
  ### Border Colors
  | Token | Light Mode | Dark Mode | Use Case |
  |-------|------------|-----------|----------|
  | --border-default | gray-200 | gray-700 | Default borders |
  | --border-strong | gray-300 | gray-600 | Emphasized borders |
  | --border-subtle | gray-100 | gray-800 | Subtle dividers |
  | --border-focus | primary-500 | primary-400 | Focus rings |
  
  ---
  
  ## Status Colors
  
  ### Pipeline Stage Colors
  | Stage | Background | Text | Border |
  |-------|------------|------|--------|
  | New | blue-50 | blue-700 | blue-200 |
  | Screening | purple-50 | purple-700 | purple-200 |
  | Interview | amber-50 | amber-700 | amber-200 |
  | Offer | green-50 | green-700 | green-200 |
  | Hired | green-100 | green-800 | green-300 |
  | Rejected | red-50 | red-700 | red-200 |
  
  ---
  
  ## Contrast Verification
  
  ### Requirements Addressed
  | Req ID | Requirement | Status |
  |--------|-------------|--------|
  | A11Y-002 | 4.5:1 contrast for text | âœ… Verified |
  
  ### Contrast Ratios
  | Combination | Ratio | Level |
  |-------------|-------|-------|
  | text-primary on bg-primary | 15.3:1 | AAA |
  | text-secondary on bg-primary | 7.2:1 | AAA |
  | text-link on bg-primary | 5.9:1 | AA |
  | primary-500 on white | 4.5:1 | AA |
  
  ---
  
  ## CSS Custom Properties
  
  ```css
  :root {
    /* Primitives - Gray */
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;
    
    /* Primitives - Primary */
    --color-primary-50: #eff6ff;
    --color-primary-100: #dbeafe;
    --color-primary-500: #3b82f6;
    --color-primary-600: #2563eb;
    --color-primary-700: #1d4ed8;
    
    /* Semantic - Text */
    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-600);
    --text-link: var(--color-primary-600);
    
    /* Semantic - Background */
    --bg-primary: #ffffff;
    --bg-secondary: var(--color-gray-50);
    
    /* Semantic - Border */
    --border-default: var(--color-gray-200);
    --border-focus: var(--color-primary-500);
  }
  ```
```

### Step 3: Generate Typography Tokens
```
CREATE 00-foundation/typography.md:
  # Typography Tokens
  
  ## Overview
  
  Typography tokens define the complete type system.
  Based on a 4px baseline grid with a 1.25 modular scale.
  
  ---
  
  ## Font Families
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --font-sans | 'Inter', system-ui, sans-serif | Primary UI text |
  | --font-mono | 'JetBrains Mono', monospace | Code, data |
  
  ---
  
  ## Font Sizes
  
  | Token | Size | Line Height | Use Case |
  |-------|------|-------------|----------|
  | --text-xs | 12px | 16px | Captions, badges |
  | --text-sm | 14px | 20px | Secondary text, labels |
  | --text-base | 16px | 24px | Body text |
  | --text-lg | 18px | 28px | Lead paragraphs |
  | --text-xl | 20px | 28px | H4 headings |
  | --text-2xl | 24px | 32px | H3 headings |
  | --text-3xl | 30px | 36px | H2 headings |
  | --text-4xl | 36px | 40px | H1 headings |
  | --text-5xl | 48px | 48px | Display headings |
  
  ---
  
  ## Font Weights
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --font-normal | 400 | Body text |
  | --font-medium | 500 | Emphasized text, labels |
  | --font-semibold | 600 | Subheadings |
  | --font-bold | 700 | Headings |
  
  ---
  
  ## Letter Spacing
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --tracking-tight | -0.025em | Large headings |
  | --tracking-normal | 0 | Body text |
  | --tracking-wide | 0.025em | Uppercase labels |
  
  ---
  
  ## Text Styles (Compositions)
  
  ### Headings
  | Style | Font | Size | Weight | Line Height | Tracking |
  |-------|------|------|--------|-------------|----------|
  | h1 | sans | 36px | bold | 40px | tight |
  | h2 | sans | 30px | bold | 36px | tight |
  | h3 | sans | 24px | semibold | 32px | normal |
  | h4 | sans | 20px | semibold | 28px | normal |
  | h5 | sans | 18px | semibold | 28px | normal |
  | h6 | sans | 16px | semibold | 24px | normal |
  
  ### Body
  | Style | Font | Size | Weight | Line Height |
  |-------|------|------|--------|-------------|
  | body-lg | sans | 18px | normal | 28px |
  | body | sans | 16px | normal | 24px |
  | body-sm | sans | 14px | normal | 20px |
  
  ### UI
  | Style | Font | Size | Weight | Line Height |
  |-------|------|------|--------|-------------|
  | label | sans | 14px | medium | 20px |
  | caption | sans | 12px | normal | 16px |
  | overline | sans | 12px | semibold | 16px |
  | button | sans | 14px | medium | 20px |
  
  ---
  
  ## CSS Custom Properties
  
  ```css
  :root {
    /* Font Families */
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    
    /* Font Sizes */
    --text-xs: 0.75rem;    /* 12px */
    --text-sm: 0.875rem;   /* 14px */
    --text-base: 1rem;     /* 16px */
    --text-lg: 1.125rem;   /* 18px */
    --text-xl: 1.25rem;    /* 20px */
    --text-2xl: 1.5rem;    /* 24px */
    --text-3xl: 1.875rem;  /* 30px */
    --text-4xl: 2.25rem;   /* 36px */
    --text-5xl: 3rem;      /* 48px */
    
    /* Line Heights */
    --leading-none: 1;
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    
    /* Font Weights */
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;
    
    /* Letter Spacing */
    --tracking-tight: -0.025em;
    --tracking-normal: 0;
    --tracking-wide: 0.025em;
  }
  ```
```

### Step 4: Generate Spacing & Layout Tokens
```
CREATE 00-foundation/spacing-layout.md:
  # Spacing & Layout Tokens
  
  ## Overview
  
  Spacing tokens are based on a 4px grid system.
  All spacing values are multiples of 4px for visual consistency.
  
  ---
  
  ## Spacing Scale
  
  | Token | Value | Pixels | Use Case |
  |-------|-------|--------|----------|
  | --space-0 | 0 | 0px | Reset |
  | --space-px | 1px | 1px | Borders |
  | --space-0.5 | 0.125rem | 2px | Tight spacing |
  | --space-1 | 0.25rem | 4px | Minimal gap |
  | --space-1.5 | 0.375rem | 6px | - |
  | --space-2 | 0.5rem | 8px | Inline spacing |
  | --space-2.5 | 0.625rem | 10px | - |
  | --space-3 | 0.75rem | 12px | Small padding |
  | --space-3.5 | 0.875rem | 14px | - |
  | --space-4 | 1rem | 16px | Default padding |
  | --space-5 | 1.25rem | 20px | - |
  | --space-6 | 1.5rem | 24px | Medium padding |
  | --space-7 | 1.75rem | 28px | - |
  | --space-8 | 2rem | 32px | Large padding |
  | --space-9 | 2.25rem | 36px | - |
  | --space-10 | 2.5rem | 40px | Section gap |
  | --space-12 | 3rem | 48px | Large gap |
  | --space-14 | 3.5rem | 56px | - |
  | --space-16 | 4rem | 64px | Section spacing |
  | --space-20 | 5rem | 80px | Page margins |
  | --space-24 | 6rem | 96px | Large sections |
  
  ---
  
  ## Border Radius
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --radius-none | 0 | Sharp corners |
  | --radius-sm | 0.125rem | Subtle rounding |
  | --radius-md | 0.375rem | Default (6px) |
  | --radius-lg | 0.5rem | Cards, modals |
  | --radius-xl | 0.75rem | Large cards |
  | --radius-2xl | 1rem | Feature cards |
  | --radius-full | 9999px | Pills, avatars |
  
  ---
  
  ## Shadows
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --shadow-sm | 0 1px 2px rgba(0,0,0,0.05) | Subtle elevation |
  | --shadow-md | 0 4px 6px rgba(0,0,0,0.1) | Cards |
  | --shadow-lg | 0 10px 15px rgba(0,0,0,0.1) | Dropdowns |
  | --shadow-xl | 0 20px 25px rgba(0,0,0,0.1) | Modals |
  | --shadow-inner | inset 0 2px 4px rgba(0,0,0,0.05) | Inset elements |
  
  ---
  
  ## Z-Index Scale
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --z-base | 0 | Default |
  | --z-dropdown | 1000 | Dropdowns, menus |
  | --z-sticky | 1100 | Sticky headers |
  | --z-fixed | 1200 | Fixed elements |
  | --z-modal-backdrop | 1300 | Modal overlay |
  | --z-modal | 1400 | Modal content |
  | --z-popover | 1500 | Popovers, tooltips |
  | --z-toast | 1600 | Toast notifications |
  
  ---
  
  ## Layout Dimensions
  
  | Token | Value | Use Case |
  |-------|-------|----------|
  | --sidebar-width | 240px | Sidebar default |
  | --sidebar-collapsed | 64px | Sidebar collapsed |
  | --header-height | 64px | Top header |
  | --max-content-width | 1280px | Content max width |
  | --form-max-width | 640px | Form containers |
  
  ---
  
  ## Breakpoints
  
  | Token | Value | Description |
  |-------|-------|-------------|
  | --breakpoint-sm | 640px | Small devices |
  | --breakpoint-md | 768px | Tablets |
  | --breakpoint-lg | 1024px | Small desktops |
  | --breakpoint-xl | 1280px | Large desktops |
  | --breakpoint-2xl | 1536px | Wide screens |
  
  ---
  
  ## CSS Custom Properties
  
  ```css
  :root {
    /* Spacing */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-12: 3rem;
    --space-16: 4rem;
    
    /* Border Radius */
    --radius-sm: 0.125rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    
    /* Z-Index */
    --z-dropdown: 1000;
    --z-sticky: 1100;
    --z-modal: 1400;
    --z-toast: 1600;
    
    /* Layout */
    --sidebar-width: 240px;
    --header-height: 64px;
  }
  ```
```

### Step 5: Generate Token Overview
```
CREATE 00-foundation/DESIGN_TOKENS.md:
  # Design Tokens
  
  ## Overview
  
  Design tokens are the single source of truth for visual design decisions.
  They ensure consistency across all components and screens.
  
  ---
  
  ## Token Categories
  
  | Category | File | Description |
  |----------|------|-------------|
  | Colors | [colors.md](colors.md) | Color palette and semantic colors |
  | Typography | [typography.md](typography.md) | Fonts, sizes, weights |
  | Spacing | [spacing-layout.md](spacing-layout.md) | Spacing, layout, shadows |
  
  ---
  
  ## Requirements Addressed
  
  | Req ID | Description | Token Implementation |
  |--------|-------------|---------------------|
  | A11Y-002 | Color contrast | Verified 4.5:1+ ratios |
  | A11Y-005 | Readable text | 16px minimum base size |
  
  ---
  
  ## Usage
  
  ### In CSS
  ```css
  .button {
    background: var(--color-primary-500);
    color: var(--text-inverse);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
  }
  ```
  
  ### In JavaScript/React
  ```javascript
  // Access via CSS custom properties
  const primaryColor = getComputedStyle(document.documentElement)
    .getPropertyValue('--color-primary-500');
  ```
  
  ---
  
  ## Token Hierarchy
  
  ```
  Primitives (raw values)
      â†“
  Semantic Tokens (context-aware)
      â†“
  Component Tokens (component-specific)
  ```
  
  ---
  
  ## Quick Reference
  
  ### Most Used Tokens
  
  | Purpose | Token |
  |---------|-------|
  | Primary button bg | --color-primary-500 |
  | Body text | --text-secondary |
  | Default padding | --space-4 |
  | Card radius | --radius-lg |
  | Default border | --border-default |
  | Focus ring | --border-focus |
```

### Step 5.5: Generate Custom Visual Assets (Phase 5 Enhancement - Optional)

> **canvas-design Integration**: Generate custom visual assets with design philosophy approach.

```
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PHASE 5: CUSTOM VISUAL ASSETS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT user:
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¨ CUSTOM VISUAL ASSETS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Would you like to generate custom visual assets for this prototype?

  Options:
  1. "icons" - Generate custom icon set matching design tokens
  2. "illustrations" - Generate illustrations for empty states, onboarding
  3. "patterns" - Generate background patterns/textures
  4. "hero" - Generate hero/feature graphics
  5. "all" - Generate full visual asset package
  6. "skip" - Continue without custom assets
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  WAIT for user response

IF user selects visual assets:

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // STEP 1: CREATE DESIGN PHILOSOPHY
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  // Extract visual direction from design tokens and theme
  ANALYZE:
    - selected_theme colors â†’ color mood
    - selected_theme fonts â†’ typographic character
    - aesthetic_direction â†’ overall feel
    - product_domain â†’ contextual references

  // Generate design philosophy document
  CREATE 00-foundation/VISUAL_PHILOSOPHY.md:

    # Visual Philosophy: {philosophy_name}

    ## Movement Name
    {2-3 word evocative name based on theme + domain}
    Examples: "Chromatic Precision", "Organic Systems", "Geometric Silence"

    ## Philosophy Statement

    {4-6 paragraphs articulating the visual essence}

    This philosophy manifests through:

    ### Space and Form
    {How shapes, whitespace, and composition create meaning}

    ### Color and Material
    {How the color palette creates emotional resonance}

    ### Scale and Rhythm
    {How size relationships create visual hierarchy}

    ### Composition and Balance
    {How elements are arranged - asymmetric, grid-based, organic}

    ### Visual Hierarchy
    {How importance is communicated visually}

    ## Craftsmanship Standard

    All generated assets must appear:
    - Meticulously crafted
    - The product of deep expertise
    - Painstakingly refined
    - Master-level execution

    ## Forbidden Patterns

    To avoid generic AI aesthetics:
    - NO purple gradients on white
    - NO uniform rounded corners everywhere
    - NO centered-everything layouts
    - NO clipart-style illustrations
    - NO generic stock photo feel

    ## Subtle Reference

    {The conceptual DNA woven into the visuals - domain-specific
    references that experts will recognize but don't announce themselves}

  LOG: "âœ… Design philosophy created: {philosophy_name}"

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // STEP 2: GENERATE ASSETS BASED ON SELECTION
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  IF "icons" in selection:

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INVOKE CANVAS-DESIGN SKILL (Dynamic Skill Invocation)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    INVOKE_SKILL:
      skill: "canvas-design"
      inputs:
        design_philosophy: READ("00-foundation/VISUAL_PHILOSOPHY.md")
        asset_type: "icons"
        color_palette: colors_source
        output_directory: "00-foundation/assets/icons/"
      outputs:
        - "00-foundation/assets/icons/*.svg"
      on_success:
        LOG: "âœ… Icons generated via canvas-design skill"
        icon_count = COUNT(outputs)
      on_failure:
        LOG: "âš ï¸ canvas-design skill not available, using fallback"
        // Fallback to embedded icon generation
        CREATE 00-foundation/assets/icons/ directory
        GENERATE icon set following philosophy:
      - Navigation icons (home, menu, back, settings)
      - Action icons (add, edit, delete, save, search)
      - Status icons (success, warning, error, info)
      - Domain-specific icons (based on entities)

    FOR each icon:
      CREATE {icon_name}.svg:
        - Follow color palette from tokens
        - Match visual philosophy style
        - Consistent stroke width
        - Proper viewBox sizing (24x24 default)

    CREATE 00-foundation/assets/ICON_LIBRARY.md:
      # Icon Library

      ## Usage
      ```jsx
      import { IconName } from '@/assets/icons'
      ```

      ## Icon Grid
      | Icon | Name | Use Case |
      |------|------|----------|
      | {preview} | home | Navigation to main |
      ...

    LOG: "âœ… Generated {count} custom icons"

  IF "illustrations" in selection:

    CREATE 00-foundation/assets/illustrations/ directory

    GENERATE illustrations:
      - empty_state.png - For empty lists/tables
      - onboarding_1.png - Welcome/intro
      - success.png - Task completion
      - error.png - Error state
      - loading.png - Loading state

    FOR each illustration:
      // Follow canvas-design process:
      // 1. Use the visual philosophy as foundation
      // 2. Create museum-quality visual art
      // 3. 90% visual design, 10% essential text
      // 4. Dense accumulation or layered patterns
      // 5. Limited, intentional color palette

      CREATE as .png or .pdf:
        - Apply philosophy colors
        - Use philosophy composition rules
        - Include subtle domain reference
        - Ensure craftsmanship standard

    CREATE 00-foundation/assets/ILLUSTRATIONS.md:
      # Illustrations

      ## Empty States
      ![Empty State](illustrations/empty_state.png)
      Use when: No data to display

      ## Onboarding
      ![Welcome](illustrations/onboarding_1.png)
      Use when: First-time user experience

    LOG: "âœ… Generated {count} illustrations"

  IF "patterns" in selection:

    CREATE 00-foundation/assets/patterns/ directory

    GENERATE background patterns:
      - subtle_grid.svg - Subtle grid pattern
      - gradient_mesh.svg - Gradient background
      - texture_organic.svg - Organic texture
      - geometric_accent.svg - Geometric decoration

    FOR each pattern:
      CREATE as .svg with:
        - Repeatable tile design
        - Philosophy color palette
        - Subtle, non-distracting
        - Seamless edges

    CREATE 00-foundation/assets/PATTERNS.md:
      # Background Patterns

      ## Usage
      ```css
      .section {
        background-image: url('@/assets/patterns/subtle_grid.svg');
        background-repeat: repeat;
      }
      ```

    LOG: "âœ… Generated {count} patterns"

  IF "hero" in selection:

    CREATE 00-foundation/assets/hero/ directory

    GENERATE hero graphics:
      - hero_main.png - Main landing hero
      - feature_1.png - Feature highlight
      - feature_2.png - Feature highlight
      - cta_background.png - Call-to-action background

    FOR each hero graphic:
      // Museum-quality execution:
      // - Dramatic composition
      // - Philosophy-aligned color story
      // - Professional, not generic
      // - Could be displayed in a design portfolio

      CREATE as high-resolution .png:
        - 1920x1080 or larger
        - Philosophy colors
        - Subtle domain reference
        - Expert craftsmanship

    LOG: "âœ… Generated {count} hero graphics"

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // STEP 3: UPDATE DESIGN TOKENS WITH ASSET REFERENCES
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  UPDATE 00-foundation/DESIGN_TOKENS.md:
    APPEND section:

    ---

    ## Visual Assets

    Custom visual assets generated following the {philosophy_name} philosophy.

    | Category | Location | Count |
    |----------|----------|-------|
    | Icons | `assets/icons/` | {count} |
    | Illustrations | `assets/illustrations/` | {count} |
    | Patterns | `assets/patterns/` | {count} |
    | Hero Graphics | `assets/hero/` | {count} |

    See [VISUAL_PHILOSOPHY.md](VISUAL_PHILOSOPHY.md) for design rationale.

ELSE:
  LOG: "Skipping custom visual assets (not selected)"
```

### Step 6: Validate Outputs (REQUIRED)
```
VALIDATE design tokens:
  FILE CHECKS:
    - 00-foundation/DESIGN_TOKENS.md exists
    - 00-foundation/colors.md exists
    - 00-foundation/typography.md exists
    - 00-foundation/spacing-layout.md exists
    
  CONTENT CHECKS:
    - All semantic colors defined
    - Contrast ratios documented
    - Full spacing scale present
    - Typography scale complete
    
IF any validation fails:
  PROMPT with mitigation options
```

### Step 7: Update Progress
```
UPDATE _state/progress.json:
  phases.design_tokens.status = "complete"
  phases.design_tokens.completed_at = timestamp
  phases.design_tokens.outputs = [
    "00-foundation/DESIGN_TOKENS.md",
    "00-foundation/colors.md",
    "00-foundation/typography.md",
    "00-foundation/spacing-layout.md"
  ]
  phases.design_tokens.metrics = {
    color_tokens: count,
    typography_tokens: count,
    spacing_tokens: count,
    a11y_requirements_addressed: count
  }
```

---

## Output Files (REQUIRED)

| Path | Purpose | Blocking? |
|------|---------|-----------|
| `DESIGN_TOKENS.md` | Overview and usage | âœ… Yes |
| `colors.md` | Color documentation | âœ… Yes |
| `typography.md` | Typography documentation | âœ… Yes |
| `spacing-layout.md` | Spacing/layout documentation | âœ… Yes |

---

## Progress.json Update

```json
{
  "phases": {
    "design_tokens": {
      "status": "complete",
      "completed_at": "2024-12-13T10:30:00Z",
      "outputs": [
        "00-foundation/DESIGN_TOKENS.md",
        "00-foundation/colors.md",
        "00-foundation/typography.md",
        "00-foundation/spacing-layout.md"
      ],
      "metrics": {
        "color_tokens": 45,
        "typography_tokens": 20,
        "spacing_tokens": 25,
        "a11y_requirements_addressed": 2
      }
    }
  }
}
```
