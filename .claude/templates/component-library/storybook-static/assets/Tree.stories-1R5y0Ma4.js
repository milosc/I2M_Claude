import{j as e}from"./jsx-runtime-CDt2p4po.js";import{a as p}from"./index-B-lxVbXh.js";import{b2 as f,b3 as E,b4 as D,a as $,V as N,h as S,B as T,e as ee,P as te,M as re,b5 as dt,X as ct,b6 as pt}from"./Virtualizer-43kePMo2.js";import"./ColorSwatch-C5hr6lpG.js";import{r as v}from"./index-GiUgBvb1.js";import{b as M,a as C,$ as mt}from"./ListLayout-8Q9Kcx4Y.js";import{u as Ge}from"./useDragAndDrop--5mYXGU7.js";import{c as L,M as P}from"./utils-N1pTmi3h.js";import{s as c}from"./index.module-B9nxguEg.js";import{$ as k}from"./useTreeData-56Dai3Mi.js";/* empty css               */import"./v4-CtRu48qb.js";import"./index-C8NrMXaH.js";import"./useDrag-D4nPEkp-.js";const Wt={title:"React Aria Components/Tree",component:f,excludeStories:["TreeExampleStaticRender"]};function Z({children:t,...o}){return e.jsx(ct,{...o,children:({isIndeterminate:r})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"checkbox",children:e.jsx("svg",{viewBox:"0 0 18 18","aria-hidden":"true",children:r?e.jsx("rect",{x:1,y:7.5,width:15,height:3}):e.jsx("polyline",{points:"1 9 7 14 15 4"})})}),t]})})}const j=t=>e.jsxs(E,{...t,className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:[e.jsx(D,{children:({isExpanded:o,hasChildItems:r,level:a,selectionMode:n,selectionBehavior:l})=>e.jsxs(e.Fragment,{children:[n!=="none"&&l==="toggle"&&e.jsx(Z,{slot:"selection"}),e.jsxs("div",{className:L(c,"content-wrapper"),style:{marginInlineStart:`${(r?0:20)+(a-1)*15}px`},children:[r&&e.jsx(T,{className:c.chevron,slot:"chevron",children:e.jsx("div",{style:{transform:`rotate(${o?90:0}deg)`,width:"16px",height:"16px"},children:e.jsx("svg",{viewBox:"0 0 24 24",style:{width:"16px",height:"16px"},children:e.jsx("path",{d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})}),e.jsx($,{className:c.title,children:t.title||t.children}),e.jsx(T,{className:c.button,"aria-label":"Info",onPress:p("Info press"),children:"ⓘ"}),e.jsxs(ee,{children:[e.jsx(T,{"aria-label":"Menu",children:"☰"}),e.jsx(te,{children:e.jsxs(re,{className:c.menu,onAction:p("menu action"),children:[e.jsx(P,{children:"Foo"}),e.jsx(P,{children:"Bar"}),e.jsx(P,{children:"Baz"})]})})]})]})]})}),t.title&&t.children]}),A=t=>e.jsxs(E,{...t,className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:[e.jsx(D,{children:({isExpanded:o,hasChildItems:r,level:a,selectionMode:n,selectionBehavior:l})=>e.jsxs(e.Fragment,{children:[n!=="none"&&l==="toggle"&&e.jsx(Z,{slot:"selection"}),e.jsxs("div",{className:L(c,"content-wrapper"),style:{marginInlineStart:`${(r?0:20)+(a-1)*15}px`},children:[r&&e.jsx(T,{className:c.chevron,slot:"chevron",children:e.jsx("div",{style:{transform:`rotate(${o?90:0}deg)`,width:"16px",height:"16px"},children:e.jsx("svg",{viewBox:"0 0 24 24",style:{width:"16px",height:"16px"},children:e.jsx("path",{d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})}),e.jsx($,{className:c.title,children:t.title||t.children})]})]})}),t.title&&t.children]});function Xe(t){return e.jsxs(f,{className:c.tree,...t,disabledKeys:["projects"],"aria-label":"test static tree",onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:[e.jsx(j,{id:"Photos",textValue:"Photos",children:"Photos"}),e.jsxs(j,{id:"projects",textValue:"Projects",title:"Projects",children:[e.jsx(j,{id:"projects-1",textValue:"Projects-1",title:"Projects-1",children:e.jsx(j,{id:"projects-1A",textValue:"Projects-1A",children:"Projects-1A"})}),e.jsx(j,{id:"projects-2",textValue:"Projects-2",children:"Projects-2"}),e.jsx(j,{id:"projects-3",textValue:"Projects-3",children:"Projects-3"})]}),e.jsx(E,{id:"reports",textValue:"Reports",className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:e.jsx(D,{children:"Reports"})}),e.jsx(E,{id:"Tests",textValue:"Tests",className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:e.jsx(D,{children:({isFocused:o})=>e.jsx($,{children:`${o} Tests`})})})]})}const ht=t=>e.jsxs(f,{className:c.tree,...t,disabledKeys:["projects"],"aria-label":"test static tree",onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:[e.jsx(A,{id:"Photos",textValue:"Photos",children:"Photos"}),e.jsxs(A,{id:"projects",textValue:"Projects",title:"Projects",children:[e.jsx(A,{id:"projects-1",textValue:"Projects-1",title:"Projects-1",children:e.jsx(A,{id:"projects-1A",textValue:"Projects-1A",children:"Projects-1A"})}),e.jsx(A,{id:"projects-2",textValue:"Projects-2",children:"Projects-2"}),e.jsx(A,{id:"projects-3",textValue:"Projects-3",children:"Projects-3"})]}),e.jsx(A,{id:"reports",textValue:"Reports",className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:e.jsx(D,{children:"Reports"})}),e.jsx(A,{id:"Tests",textValue:"Tests",className:({isFocused:o,isSelected:r,isHovered:a,isFocusVisible:n})=>L(c,"tree-item",{focused:o,"focus-visible":n,selected:r,hovered:a}),children:e.jsx(D,{children:({isFocused:o})=>e.jsx($,{children:`${o} Tests`})})})]}),V={render:t=>e.jsx(Xe,{...t}),args:{selectionMode:"none",selectionBehavior:"toggle",disabledBehavior:"selection"},argTypes:{selectionMode:{control:"radio",options:["none","single","multiple"]},selectionBehavior:{control:"radio",options:["toggle","replace"]},disabledBehavior:{control:"radio",options:["selection","all"]}},parameters:{description:{data:"Note that the last two items are just to test bare minimum TreeItem and thus dont have the checkbox or any of the other contents that the other items have. The last item tests the isFocused renderProp"}}},F={render:t=>e.jsx(ht,{...t}),args:{selectionMode:"none",selectionBehavior:"toggle",disabledBehavior:"selection"},argTypes:{selectionMode:{control:"radio",options:["none","single","multiple"]},selectionBehavior:{control:"radio",options:["toggle","replace"]},disabledBehavior:{control:"radio",options:["selection","all"]}},parameters:{description:{data:"Note that the last two items are just to test bare minimum TreeItem and thus dont have the checkbox or any of the other contents that the other items have. The last item tests the isFocused renderProp. This story specifically tests tab behaviour when there are no additional actions in the tree."}}};let B=[{id:"projects",name:"Projects",childItems:[{id:"project-1",name:"Project 1"},{id:"project-2",name:"Project 2",childItems:[{id:"project-2A",name:"Project 2A"},{id:"project-2B",name:"Project 2B"},{id:"project-2C",name:"Project 2C"}]},{id:"project-3",name:"Project 3"},{id:"project-4",name:"Project 4"},{id:"project-5",name:"Project 5",childItems:[{id:"project-5A",name:"Project 5A"},{id:"project-5B",name:"Project 5B"},{id:"project-5C",name:"Project 5C"}]}]},{id:"reports",name:"Reports",childItems:[{id:"reports-1",name:"Reports 1",childItems:[{id:"reports-1A",name:"Reports 1A",childItems:[{id:"reports-1AB",name:"Reports 1AB",childItems:[{id:"reports-1ABC",name:"Reports 1ABC"}]}]},{id:"reports-1B",name:"Reports 1B"},{id:"reports-1C",name:"Reports 1C"}]},{id:"reports-2",name:"Reports 2"}]}];const I=t=>{let{omitChildren:o}=t;return e.jsx(dt,{className:L(c,"tree-loader"),...t,children:({level:r})=>{if(o)return;let a=`Level ${r} loading spinner`;return r===1&&(a="Load more spinner"),e.jsx("span",{style:{marginInlineStart:`${(r>1?25:0)+(r-1)*15}px`},children:a})}})},w=t=>{let{childItems:o,renderLoader:r,supportsDragging:a}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(E,{...t,className:({isFocused:n,isSelected:l,isHovered:s,isFocusVisible:i,isDropTarget:d})=>L(c,"tree-item",{focused:n,"focus-visible":i,selected:l,hovered:s,"drop-target":d}),children:[e.jsx(D,{children:({isExpanded:n,hasChildItems:l,level:s,selectionBehavior:i,selectionMode:d})=>e.jsxs(e.Fragment,{children:[d!=="none"&&i==="toggle"&&e.jsx(Z,{slot:"selection"}),e.jsxs("div",{className:c["content-wrapper"],style:{marginInlineStart:`${(l?0:20)+(s-1)*15}px`},children:[l&&e.jsx(T,{className:c.chevron,slot:"chevron",children:e.jsx("div",{style:{transform:`rotate(${n?90:0}deg)`,width:"16px",height:"16px"},children:e.jsx("svg",{viewBox:"0 0 24 24",style:{width:"16px",height:"16px"},children:e.jsx("path",{d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})}),a&&e.jsx(T,{slot:"drag",children:"≡"}),e.jsx($,{children:t.children}),e.jsx(T,{className:c.button,"aria-label":"Info",onPress:p("Info press"),children:"ⓘ"}),e.jsxs(ee,{children:[e.jsx(T,{"aria-label":"Menu",children:"☰"}),e.jsx(te,{children:e.jsxs(re,{className:c.menu,onAction:p("menu action"),children:[e.jsx(P,{children:"Foo"}),e.jsx(P,{children:"Bar"}),e.jsx(P,{children:"Baz"})]})})]})]})]})}),e.jsx(S,{items:o,children:n=>e.jsx(w,{supportsDragging:a,renderLoader:r,isLoading:t.isLoading,id:n.key??n.name,childItems:n.children,textValue:n.name??n.value.name,href:t.href,children:n.name??n.value.name})}),(r==null?void 0:r(t.id))&&e.jsx(I,{isLoading:t.isLoading,onLoadMore:t.onLoadMore})]}),t.isLastInRoot&&e.jsx(I,{isLoading:t.isLoading,onLoadMore:t.onLoadMore})]})};let z=new Set(["projects","project-2","project-5","reports","reports-1","reports-1A","reports-1AB"]);const ne=t=>{let o=k({initialItems:t.items??B,getKey:r=>r.id,getChildren:r=>r.childItems});return e.jsx(f,{...t,defaultExpandedKeys:z,disabledKeys:["reports-1AB"],className:c.tree,"aria-label":"test dynamic tree",items:o.items,onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:r=>e.jsx(w,{id:r.key,childItems:r.children??[],textValue:r.value.name,children:r.value.name})})},y={...V,render:t=>e.jsx(ne,{...t}),parameters:void 0},H={...y,args:{onAction:p("onAction"),...y.args},name:"Tree with actions"},ut=t=>{let o=k({initialItems:B,getKey:r=>r.id,getChildren:r=>r.childItems});return e.jsx(f,{...t,defaultExpandedKeys:z,className:c.tree,"aria-label":"test dynamic tree",items:o.items,onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:r=>e.jsx(w,{href:"https://adobe.com/",childItems:r.children??[],textValue:r.value.name,children:r.value.name})})},W={...y,render:t=>e.jsx(ut,{...t}),name:"Tree with links",parameters:{description:{data:"every tree item should link to adobe.com"}}};function gt({isLoading:t}){return t?"Root level loading spinner":"Nothing in tree"}const xt=t=>e.jsx(f,{...t,className:c.tree,"aria-label":"test empty static tree",renderEmptyState:()=>gt({isLoading:t.isLoading}),children:e.jsx(S,{items:[],dependencies:[t.isLoading],children:o=>e.jsx(w,{renderLoader:r=>r==="project-2",isLoading:t.isLoading,id:o.id,childItems:o.childItems,textValue:o.name,children:o.name})})}),K={render:t=>e.jsx(xt,{...t}),args:{isLoading:!1},name:"Empty/Loading Tree rendered with TreeLoader collection element"};function jt(t){let{isLoading:o,...r}=t,a=k({initialItems:B,getKey:n=>n.id,getChildren:n=>n.childItems});return e.jsxs(f,{...r,defaultExpandedKeys:z,disabledKeys:["reports-1AB"],className:c.tree,"aria-label":"test dynamic tree",onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:[e.jsx(S,{items:a.items,dependencies:[o],children:n=>e.jsx(w,{renderLoader:l=>l==="project-2",isLoading:o,id:n.key,childItems:n.children??[],textValue:n.value.name,children:n.value.name})}),e.jsx(I,{isLoading:o})]})}const q={render:t=>e.jsx(jt,{...t}),args:{isLoading:!1},name:"Loading, static root loader and dynamic rows",parameters:{description:{data:"Test that Level 3 loading spinner and the root level load spinner appear when toggling isLoading in the controls"}}};function yt(t){let o=k({initialItems:B,getKey:r=>r.id,getChildren:r=>r.childItems});return e.jsx(f,{...t,dependencies:[t.isLoading],items:o.items,defaultExpandedKeys:z,disabledKeys:["reports-1AB"],className:c.tree,"aria-label":"test dynamic tree",onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:r=>e.jsx(w,{isLastInRoot:r.key==="reports",renderLoader:a=>a==="root"||a==="project-2",isLoading:t.isLoading,id:r.key,childItems:r.children??[],textValue:r.value.name,children:r.value.name})})}const U={render:t=>e.jsx(yt,{...t}),args:{isLoading:!1},name:"Loading, dynamic rows, root loader rendered dynamically as well",parameters:{description:{data:"Test that Level 3 loading spinner and the root level load spinner appear when toggling isLoading in the controls"}}};function ft(t){let{isLoading:o,isExpanded:r}=t,a;return o?a="↻":a=r?"⏷":"⏵",e.jsx(T,{slot:"chevron",children:a})}const Qe=t=>{let{childItems:o,renderLoader:r,isLoading:a}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(E,{...t,className:({isFocused:n,isSelected:l,isHovered:s,isFocusVisible:i})=>L(c,"tree-item",{focused:n,"focus-visible":i,selected:l,hovered:s}),children:[e.jsx(D,{children:({isExpanded:n,hasChildItems:l,level:s,selectionBehavior:i,selectionMode:d})=>e.jsxs(e.Fragment,{children:[d!=="none"&&i==="toggle"&&e.jsx(Z,{slot:"selection"}),e.jsxs("div",{className:c["content-wrapper"],style:{marginInlineStart:`${(l?0:20)+(s-1)*15}px`},children:[l&&e.jsx(ft,{isLoading:a&&r&&r(t.id),isExpanded:n}),e.jsx($,{children:t.children}),e.jsx(T,{className:c.button,"aria-label":"Info",onPress:p("Info press"),children:"ⓘ"}),e.jsxs(ee,{children:[e.jsx(T,{"aria-label":"Menu",children:"☰"}),e.jsx(te,{children:e.jsxs(re,{className:c.menu,onAction:p("menu action"),children:[e.jsx(P,{children:"Foo"}),e.jsx(P,{children:"Bar"}),e.jsx(P,{children:"Baz"})]})})]})]})]})}),e.jsx(S,{items:o,children:n=>e.jsx(Qe,{renderLoader:r,isLoading:t.isLoading,id:n.key,childItems:n.children,textValue:n.value.name,href:t.href,children:n.value.name})})]}),(r==null?void 0:r(t.id))&&e.jsx(I,{isLoading:a,omitChildren:!0})]})};function vt(t){let o=k({initialItems:B,getKey:r=>r.id,getChildren:r=>r.childItems});return e.jsx(f,{...t,dependencies:[t.isLoading],items:o.items,defaultExpandedKeys:z,disabledKeys:["reports-1AB"],className:c.tree,"aria-label":"test dynamic tree",onExpandedChange:p("onExpandedChange"),onSelectionChange:p("onSelectionChange"),children:r=>e.jsx(Qe,{renderLoader:a=>a==="project-2"||a==="project-5",isLoading:t.isLoading,id:r.key,childItems:r.children??[],textValue:r.value.name,children:r.value.name})})}const _={render:t=>e.jsx(vt,{...t}),args:{isLoading:!1},name:"Loading, dynamic rows, spinner renders in button",parameters:{description:{data:"Test that the expand icon for Project 2 and 5 change to spinner icons when isLoading is toggled on via controls"}}};function Tt(t){return e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsx(ne,{...t})})}const J={...y,render:t=>e.jsx(Tt,{...t})};let Ye=[],Ze=[],et=[];for(let t=0;t<10;t++)Ye.push({id:`projects-${t}`,value:`Projects-${t}`}),Ze.push({id:`project-1-${t}`,value:`Projects-1-${t}`}),et.push({id:`document-${t}`,value:`Document-${t}`});let Lt=[{id:"photos-1",value:"Photos 1"},{id:"photos-2",value:"Photos 2"},{id:"projects",value:"Projects"},{id:"photos-3",value:"Photos 3"},{id:"photos-4",value:"Photos 4"},{id:"documents",value:"Documents"},{id:"photos-5",value:"Photos 5"},{id:"photos-6",value:"Photos 6"}];function bt(t){let o=M({initialItems:Lt}),r=M({initialItems:Ye}),a=M({initialItems:Ze}),n=M({initialItems:et}),[l,s]=v.useState(!1),[i,d]=v.useState(!1),[m,x]=v.useState(!1),[b,O]=v.useState(!1),st=v.useCallback(()=>{!l&&o.items.length<30&&(p("root loading")(),s(!0),setTimeout(()=>{let g=[],u=o.items.length-1;for(let h=0;h<5;h++)g.push({id:`photos-${h+u}`,value:`Photos-${h+u}`});o.append(...g),s(!1)},t.delay))},[l,o,t.delay]),at=v.useCallback(()=>{!i&&r.items.length<30&&(p("projects loading")(),d(!0),setTimeout(()=>{let g=[],u=r.items.length;for(let h=0;h<5;h++)g.push({id:`projects-${h+u}`,value:`Projects-${h+u}`});r.append(...g),d(!1)},t.delay))},[i,r,t.delay]),it=v.useCallback(()=>{!m&&a.items.length<30&&(p("projects level 3 loading")(),x(!0),setTimeout(()=>{let g=[],u=a.items.length;for(let h=0;h<5;h++)g.push({id:`project-1-${h+u}`,value:`Project-1-${h+u}`});a.append(...g),x(!1)},t.delay))},[m,a,t.delay]),lt=v.useCallback(()=>{!b&&n.items.length<30&&(p("documents loading")(),O(!0),setTimeout(()=>{let g=[],u=n.items.length;for(let h=0;h<5;h++)g.push({id:`document-${h+u}`,value:`Document-${h+u}`});n.append(...g),O(!1)},t.delay))},[b,n,t.delay]);return e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsxs(f,{"aria-label":"multi loader tree",className:c.tree,children:[e.jsx(S,{items:o.items,dependencies:[i,b,m],children:g=>g.id==="projects"?e.jsxs(j,{id:"projects",textValue:"Projects",title:"Projects",children:[e.jsx(S,{items:r.items,children:u=>u.id!=="projects-1"?e.jsx(j,{id:u.id,textValue:u.value,children:u.value}):e.jsxs(j,{id:"projects-1",textValue:"Projects-1",title:"Projects-1",children:[e.jsx(S,{items:a.items,children:h=>e.jsx(j,{id:h.id,textValue:h.value,children:h.value})}),e.jsx(I,{isLoading:m,onLoadMore:it})]})}),e.jsx(I,{isLoading:i,onLoadMore:at})]}):g.id==="documents"?e.jsxs(j,{id:"documents",textValue:"Documents",title:"Documents",children:[e.jsx(S,{items:n.items,children:u=>e.jsx(j,{id:u.id,textValue:u.value,children:u.value})}),e.jsx(I,{isLoading:b,onLoadMore:lt})]}):e.jsx(j,{id:g.id,textValue:g.value,children:g.value})}),e.jsx(I,{isLoading:l,onLoadMore:st})]})})}const G={render:bt,args:{delay:2e3}};function St(t){let r=M({initialItems:[{id:"photos-1",name:"Photos 1"},{id:"photos-2",name:"Photos 2"},{id:"photos-3",name:"Photos 3"},{id:"photos-4",name:"Photos 4"},{id:"starwars",name:"Star Wars"},{id:"photos-5",name:"Photos 5"},{id:"photos-6",name:"Photos 6"}]}),a=mt({async load({signal:i,cursor:d,filterText:m}){d&&(d=d.replace(/^http:\/\//i,"https://")),p("starwars loading")(),await new Promise(O=>setTimeout(O,t.delay));let b=await(await fetch(d||`https://swapi.py4e.com/api/people/?search=${m}`,{signal:i})).json();return{items:b.results,cursor:b.next}}}),[n,l]=v.useState(!1),s=v.useCallback(()=>{n||(p("root loading")(),l(!0),setTimeout(()=>{let i=[],d=r.items.length;for(let m=0;m<5;m++)i.push({id:`photos-${m+d}`,name:`Photos-${m+d}`});r.append(...i),l(!1)},t.delay))},[n,r,t.delay]);return e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsxs(f,{"aria-label":"multi loader tree",className:c.tree,children:[e.jsx(S,{items:r.items,dependencies:[a.isLoading],children:i=>e.jsx(w,{renderLoader:d=>d==="starwars",isLoading:i.id==="starwars"?a.isLoading:void 0,onLoadMore:i.id==="starwars"?a.loadMore:void 0,id:i.id,childItems:i.id==="starwars"?a.items:[],textValue:i.name,children:i.name})}),e.jsx(I,{isLoading:n,onLoadMore:s})]})})}const X={render:St,args:{delay:2e3}};function tt(t){let o=k({initialItems:B,getKey:n=>n.id,getChildren:n=>n.childItems}),r=n=>[...n].map(l=>{let s=o.getItem(l),i=d=>({...d.value,childItems:d.children?[...d.children].map(i):[]});return{"text/plain":s.value.name,"tree-item":JSON.stringify(i(s))}}),{dragAndDropHooks:a}=Ge({getItems:r,getAllowedDropOperations:()=>["move"],renderDragPreview(n){return e.jsxs("div",{style:{background:"blue",color:"white",padding:"4px"},children:[n.length," items"]})},shouldAcceptItemDrop:n=>{var l,s;if(t.shouldAcceptItemDrop==="folders"){let i=o.getItem(n.key);return((s=(l=i==null?void 0:i.value)==null?void 0:l.childItems)==null?void 0:s.length)>0}return!0},[t.dropFunction]:n=>{console.log(`moving [${[...n.keys].join(",")}] ${n.target.dropPosition} ${n.target.key}`);try{if(n.target.dropPosition==="before")o.moveBefore(n.target.key,n.keys);else if(n.target.dropPosition==="after")o.moveAfter(n.target.key,n.keys);else if(n.target.dropPosition==="on"){let l=o.getItem(n.target.key);if(l){let s=l.children?l.children.length:0,i=Array.from(n.keys);for(let d=0;d<i.length;d++)o.move(i[d],n.target.key,s+d)}else console.error("Target node not found for drop on:",n.target.key)}}catch(l){console.error(l)}}});return e.jsx(f,{dragAndDropHooks:a,...t,className:c.tree,"aria-label":"Tree with drag and drop",items:o.items,children:n=>e.jsx(w,{id:n.key,childItems:n.children??[],textValue:n.value.name,supportsDragging:!0,children:n.value.name})})}function rt(t){let o=k({initialItems:[],getKey:s=>s.id,getChildren:s=>s.childItems}),r=async s=>await Promise.all(s.items.filter(pt).map(async i=>{let d=JSON.parse(await i.getText("tree-item")),m=x=>{var b;return{...x,id:Math.random().toString(36),childItems:(b=x.childItems)==null?void 0:b.map(m)}};return m(d)})),a=s=>[...s].map(i=>{let d=o.getItem(i),m=x=>({...x.value,childItems:x.children?[...x.children].map(m):[]});return{"text/plain":d.value.name,"tree-item":JSON.stringify(m(d))}}),n=async s=>{let i=await r(s);s.target.dropPosition==="before"?o.insertBefore(s.target.key,...i):s.target.dropPosition==="after"&&o.insertAfter(s.target.key,...i)},{dragAndDropHooks:l}=Ge({getItems:a,getAllowedDropOperations:()=>["move"],acceptedDragTypes:["tree-item"],onInsert:t.shouldAllowInsert?n:void 0,async onItemDrop(s){let i=await r(s);o.insert(s.target.key,0,...i)},async onRootDrop(s){let i=await r(s);o.insert(null,0,...i)},shouldAcceptItemDrop:s=>{var i,d;if(t.shouldAcceptItemDrop==="folders"){let m=o.getItem(s.key);return((d=(i=m==null?void 0:m.value)==null?void 0:i.childItems)==null?void 0:d.length)>0}return!0},[t.dropFunction]:s=>{console.log(`moving [${[...s.keys].join(",")}] ${s.target.dropPosition} ${s.target.key} in SecondTree`);try{if(s.target.dropPosition==="before")o.moveBefore(s.target.key,s.keys);else if(s.target.dropPosition==="after")o.moveAfter(s.target.key,s.keys);else if(s.target.dropPosition==="on"){let i=o.getItem(s.target.key);if(i){let d=i.children?i.children.length:0,m=Array.from(s.keys);for(let x=0;x<m.length;x++)o.move(m[x],s.target.key,d+x)}else console.error("Target node not found for drop on:",s.target.key)}}catch(i){console.error(i)}}});return e.jsx(f,{dragAndDropHooks:l,...t,className:c.tree,"aria-label":"Tree with drag and drop",items:o.items,renderEmptyState:()=>"Drop items here",children:s=>e.jsx(w,{id:s.key,childItems:s.children??[],textValue:s.value.name,supportsDragging:!0,children:s.value.name})})}const R={...y,render:t=>e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[e.jsx(tt,{...t}),e.jsx(rt,{...t})]}),args:{dropFunction:"onMove",shouldAcceptItemDrop:"all",shouldAllowInsert:!0,...y.args},argTypes:{dropFunction:{control:"radio",options:["onMove","onReorder"]},shouldAcceptItemDrop:{control:"radio",options:["all","folders"]},...y.argTypes}};function It(t){return e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsx(tt,{defaultExpandedKeys:["projects","reports","project-2","project-5","report-1","reports-1","reports-1A","reports-1AB"],...t})}),e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsx(rt,{...t})})]})}const Q={...R,render:It,name:"Tree with drag and drop (virtualized)"};let nt=0,ot=new Set;function Pt(){function t(o,r=""){const a=[];for(let l=1;l<7;l++){const s=r?`${r}-${l}`:`level-${o}-item-${l}`,i=`Level ${o} Item ${l}`,d={id:s,name:i};o<6&&(d.childItems=t(o+1,s)),nt++,a.push(d),ot.add(s)}return a}return t(1)}const wt=Pt();function At(t){let[o,r]=v.useState(new Set),a=()=>{r(ot)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:a,children:["Expand All ",nt]}),e.jsx(N,{layout:C,layoutOptions:{rowHeight:30},children:e.jsx(ne,{...t,expandedKeys:o,onExpandedChange:r})})]})}const Y={...y,args:{...y.args,items:wt},render:t=>e.jsx(At,{...t})};Xe.__docgenInfo={description:"",methods:[],displayName:"TreeExampleStaticRender",props:{children:{required:!1,tsType:{name:"union",raw:"ReactNode | ((item: T) => ReactNode)",elements:[{name:"ReactNode"},{name:"unknown"}]},description:"The contents of the collection."},dependencies:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"},description:"Values that should invalidate the item cache when using dynamic collections."},className:{required:!1,tsType:{name:"union",raw:"string | ((values: T & {defaultClassName: string | undefined}) => string)",elements:[{name:"string"},{name:"unknown"}]},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state."},style:{required:!1,tsType:{name:"union",raw:"CSSProperties | ((values: T & {defaultStyle: CSSProperties}) => CSSProperties | undefined)",elements:[{name:"CSSProperties"},{name:"unknown"}]},description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state."},slot:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent."},selectionBehavior:{required:!1,tsType:{name:"SelectionBehavior"},description:`How multiple selection should behave in the tree.
@default "toggle"`},renderEmptyState:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: TreeEmptyStateRenderProps) => ReactNode",signature:{arguments:[{type:{name:"TreeEmptyStateRenderProps"},name:"props"}],return:{name:"ReactNode"}}},description:"Provides content to display when there are no items in the list."},disabledBehavior:{required:!1,tsType:{name:"DisabledBehavior"},description:"Whether `disabledKeys` applies to all interactions, or only selection.\n@default 'all'"},dragAndDropHooks:{required:!1,tsType:{name:"intersection",raw:"DragHooks<T> & DropHooks",elements:[{name:"DragHooks",elements:[{name:"NoInfer",elements:[{name:"T"}],raw:"NoInfer<T>"}],raw:"DragHooks<T>"},{name:"DropHooks"}]},description:"The drag and drop hooks returned by `useDragAndDrop` used to enable drag and drop behavior for the Tree."}},composes:["Omit","MultipleSelection","Expandable","GlobalDOMAttributes"]};var oe,se,ae;V.parameters={...V.parameters,docs:{...(oe=V.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  render: args => <TreeExampleStaticRender {...args} />,
  args: {
    selectionMode: 'none',
    selectionBehavior: 'toggle',
    disabledBehavior: 'selection'
  },
  argTypes: {
    selectionMode: {
      control: 'radio',
      options: ['none', 'single', 'multiple']
    },
    selectionBehavior: {
      control: 'radio',
      options: ['toggle', 'replace']
    },
    disabledBehavior: {
      control: 'radio',
      options: ['selection', 'all']
    }
  },
  parameters: {
    description: {
      data: 'Note that the last two items are just to test bare minimum TreeItem and thus dont have the checkbox or any of the other contents that the other items have. The last item tests the isFocused renderProp'
    }
  }
}`,...(ae=(se=V.parameters)==null?void 0:se.docs)==null?void 0:ae.source}}};var ie,le,de;F.parameters={...F.parameters,docs:{...(ie=F.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  render: args => <TreeExampleStaticNoActionsRender {...args} />,
  args: {
    selectionMode: 'none',
    selectionBehavior: 'toggle',
    disabledBehavior: 'selection'
  },
  argTypes: {
    selectionMode: {
      control: 'radio',
      options: ['none', 'single', 'multiple']
    },
    selectionBehavior: {
      control: 'radio',
      options: ['toggle', 'replace']
    },
    disabledBehavior: {
      control: 'radio',
      options: ['selection', 'all']
    }
  },
  parameters: {
    description: {
      data: 'Note that the last two items are just to test bare minimum TreeItem and thus dont have the checkbox or any of the other contents that the other items have. The last item tests the isFocused renderProp. This story specifically tests tab behaviour when there are no additional actions in the tree.'
    }
  }
}`,...(de=(le=F.parameters)==null?void 0:le.docs)==null?void 0:de.source}}};var ce,pe,me;y.parameters={...y.parameters,docs:{...(ce=y.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  ...TreeExampleStatic,
  render: args => <TreeExampleDynamicRender {...args} />,
  parameters: undefined
}`,...(me=(pe=y.parameters)==null?void 0:pe.docs)==null?void 0:me.source}}};var he,ue,ge;H.parameters={...H.parameters,docs:{...(he=H.parameters)==null?void 0:he.docs,source:{originalSource:`{
  ...TreeExampleDynamic,
  args: {
    onAction: action('onAction'),
    ...TreeExampleDynamic.args
  },
  name: 'Tree with actions'
}`,...(ge=(ue=H.parameters)==null?void 0:ue.docs)==null?void 0:ge.source}}};var xe,je,ye;W.parameters={...W.parameters,docs:{...(xe=W.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  ...TreeExampleDynamic,
  render: args => <WithLinksRender {...args} />,
  name: 'Tree with links',
  parameters: {
    description: {
      data: 'every tree item should link to adobe.com'
    }
  }
}`,...(ye=(je=W.parameters)==null?void 0:je.docs)==null?void 0:ye.source}}};var fe,ve,Te;K.parameters={...K.parameters,docs:{...(fe=K.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  render: args => <EmptyTreeStatic {...args} />,
  args: {
    isLoading: false
  },
  name: 'Empty/Loading Tree rendered with TreeLoader collection element'
}`,...(Te=(ve=K.parameters)==null?void 0:ve.docs)==null?void 0:Te.source}}};var Le,be,Se;q.parameters={...q.parameters,docs:{...(Le=q.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  render: args => <LoadingStoryDepOnCollection {...args} />,
  args: {
    isLoading: false
  },
  name: 'Loading, static root loader and dynamic rows',
  parameters: {
    description: {
      data: 'Test that Level 3 loading spinner and the root level load spinner appear when toggling isLoading in the controls'
    }
  }
}`,...(Se=(be=q.parameters)==null?void 0:be.docs)==null?void 0:Se.source}}};var Ie,Pe,we;U.parameters={...U.parameters,docs:{...(Ie=U.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  render: args => <LoadingStoryDepOnTop {...args} />,
  args: {
    isLoading: false
  },
  name: 'Loading, dynamic rows, root loader rendered dynamically as well',
  parameters: {
    description: {
      data: 'Test that Level 3 loading spinner and the root level load spinner appear when toggling isLoading in the controls'
    }
  }
}`,...(we=(Pe=U.parameters)==null?void 0:Pe.docs)==null?void 0:we.source}}};var Ae,De,ke;_.parameters={..._.parameters,docs:{...(Ae=_.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  render: args => <ButtonLoadingIndicator {...args} />,
  args: {
    isLoading: false
  },
  name: 'Loading, dynamic rows, spinner renders in button',
  parameters: {
    description: {
      data: 'Test that the expand icon for Project 2 and 5 change to spinner icons when isLoading is toggled on via controls'
    }
  }
}`,...(ke=(De=_.parameters)==null?void 0:De.docs)==null?void 0:ke.source}}};var Ee,Ne,Ce;J.parameters={...J.parameters,docs:{...(Ee=J.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  ...TreeExampleDynamic,
  render: args => <VirtualizedTreeRender {...args} />
}`,...(Ce=(Ne=J.parameters)==null?void 0:Ne.docs)==null?void 0:Ce.source}}};var $e,Be,Me;G.parameters={...G.parameters,docs:{...($e=G.parameters)==null?void 0:$e.docs,source:{originalSource:`{
  render: MultiLoaderTreeMockAsync,
  args: {
    delay: 2000
  }
}`,...(Me=(Be=G.parameters)==null?void 0:Be.docs)==null?void 0:Me.source}}};var Ve,Re,ze;X.parameters={...X.parameters,docs:{...(Ve=X.parameters)==null?void 0:Ve.docs,source:{originalSource:`{
  render: MultiLoaderTreeUseAsyncList,
  args: {
    delay: 2000
  }
}`,...(ze=(Re=X.parameters)==null?void 0:Re.docs)==null?void 0:ze.source}}};var Oe,Fe,He;R.parameters={...R.parameters,docs:{...(Oe=R.parameters)==null?void 0:Oe.docs,source:{originalSource:`{
  ...TreeExampleDynamic,
  render: args => {
    return <div style={{
      display: 'flex',
      gap: 12,
      flexWrap: 'wrap'
    }}>
        <TreeDragAndDropExample {...args} />
        <SecondTree {...args} />
      </div>;
  },
  args: {
    dropFunction: 'onMove',
    shouldAcceptItemDrop: 'all',
    shouldAllowInsert: true,
    ...TreeExampleDynamic.args
  },
  argTypes: {
    dropFunction: {
      control: 'radio',
      options: ['onMove', 'onReorder']
    },
    shouldAcceptItemDrop: {
      control: 'radio',
      options: ['all', 'folders']
    },
    ...TreeExampleDynamic.argTypes
  }
}`,...(He=(Fe=R.parameters)==null?void 0:Fe.docs)==null?void 0:He.source}}};var We,Ke,qe;Q.parameters={...Q.parameters,docs:{...(We=Q.parameters)==null?void 0:We.docs,source:{originalSource:`{
  ...TreeWithDragAndDrop,
  render: TreeDragAndDropVirtualizedRender,
  name: 'Tree with drag and drop (virtualized)'
}`,...(qe=(Ke=Q.parameters)==null?void 0:Ke.docs)==null?void 0:qe.source}}};var Ue,_e,Je;Y.parameters={...Y.parameters,docs:{...(Ue=Y.parameters)==null?void 0:Ue.docs,source:{originalSource:`{
  ...TreeExampleDynamic,
  args: {
    ...TreeExampleDynamic.args,
    items: treeData
  },
  render: args => <HugeVirtualizedTreeRender {...args} />
}`,...(Je=(_e=Y.parameters)==null?void 0:_e.docs)==null?void 0:Je.source}}};const Kt=["TreeExampleStaticRender","TreeExampleStatic","TreeExampleStaticNoActions","TreeExampleDynamic","WithActions","WithLinks","EmptyTreeStaticStory","LoadingStoryDepOnCollectionStory","LoadingStoryDepOnTopStory","ButtonLoadingIndicatorStory","VirtualizedTree","VirtualizedTreeMultiLoaderMockAsync","VirtualizedTreeMultiLoaderUseAsyncList","TreeWithDragAndDrop","TreeWithDragAndDropVirtualized","HugeVirtualizedTree"];export{_ as ButtonLoadingIndicatorStory,K as EmptyTreeStaticStory,Y as HugeVirtualizedTree,q as LoadingStoryDepOnCollectionStory,U as LoadingStoryDepOnTopStory,y as TreeExampleDynamic,V as TreeExampleStatic,F as TreeExampleStaticNoActions,Xe as TreeExampleStaticRender,R as TreeWithDragAndDrop,Q as TreeWithDragAndDropVirtualized,J as VirtualizedTree,G as VirtualizedTreeMultiLoaderMockAsync,X as VirtualizedTreeMultiLoaderUseAsyncList,H as WithActions,W as WithLinks,Kt as __namedExportsOrder,Wt as default};
